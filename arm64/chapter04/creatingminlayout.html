<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      4.2.&nbsp;Creating a Limited Directory Layout in the LFS Filesystem
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL-NS Stylesheets Vsnapshot" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="lfs" id="lfs-arm64-r12.0-319-systemd">
    <div class="navheader">
      <h4>
        Linux From Scratch - Version arm64-r12.0-319-systemd
      </h4>
      <h3>
        Chapter&nbsp;4.&nbsp;Final Preparations
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="introduction.html" title=
          "Introduction">Prev</a>
          <p>
            Introduction
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="addinguser.html" title=
          "Adding the LFS User">Next</a>
          <p>
            Adding the LFS User
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter04.html" title=
          "Chapter&nbsp;4.&nbsp;Final Preparations">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version arm64-r12.0-319-systemd">Home</a>
        </li>
      </ul>
    </div>
    <h1 class="sect1">
      <a id="ch-tools-creatingminlayout" name=
      "ch-tools-creatingminlayout"></a>4.2. Creating a Limited Directory
      Layout in the LFS Filesystem
    </h1>
    <div class="sect1" lang="en" xml:lang="en">
      <p>
        In this section, we begin populating the LFS filesystem with the
        pieces that will constitute the final Linux system. The first step is
        to create a limited directory hierarchy, so that the programs
        compiled in <a class="xref" href="../chapter06/chapter06.html" title=
        "Chapter&nbsp;6.&nbsp;Cross Compiling Temporary Tools">Chapter&nbsp;6</a>
        (as well as glibc and libstdc++ in <a class="xref" href=
        "../chapter05/chapter05.html" title=
        "Chapter&nbsp;5.&nbsp;Compiling a Cross-Toolchain">Chapter&nbsp;5</a>)
        can be installed in their final location. We do this so those
        temporary programs will be overwritten when the final versions are
        built in <a class="xref" href="../chapter08/chapter08.html" title=
        "Chapter&nbsp;8.&nbsp;Installing Basic System Software">Chapter&nbsp;8</a>.
      </p>
      <p>
        Create the required directory layout by issuing the following
        commands as <code class="systemitem">root</code>:
      </p>
      <pre class="userinput"><kbd class=
      "command">mkdir -pv $LFS/{etc,var} $LFS/usr/{bin,lib,sbin}

for i in bin lib sbin; do
  ln -sv usr/$i $LFS/$i
done</kbd></pre>
      <p>
        Programs in <a class="xref" href="../chapter06/chapter06.html" title=
        "Chapter&nbsp;6.&nbsp;Cross Compiling Temporary Tools">Chapter&nbsp;6</a>
        will be compiled with a cross-compiler (more details can be found in
        section <a class="xref" href="../partintro/toolchaintechnotes.html"
        title="Toolchain Technical Notes">Toolchain Technical Notes</a>).
        This cross-compiler will be installed in a special directory, to
        separate it from the other programs. Still acting as <code class=
        "systemitem">root</code>, create that directory with this command:
      </p>
      <pre class="userinput"><kbd class=
      "command">mkdir -pv $LFS/tools</kbd></pre>
      <div class="admon note">
        <img alt="[Note]" src="../images/note.png" />
        <h3>
          Note
        </h3>
        <p>
          The LFS editors have deliberately decided not to use a <code class=
          "filename">/usr/lib64</code> directory. Several steps are taken to
          be sure the toolchain will not use it. If for any reason this
          directory appears (either because you made an error in following
          the instructions, or because you installed a binary package that
          created it after finishing LFS), it may break your system. You
          should always be sure this directory does not exist.
        </p>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="introduction.html" title=
          "Introduction">Prev</a>
          <p>
            Introduction
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="addinguser.html" title=
          "Adding the LFS User">Next</a>
          <p>
            Adding the LFS User
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter04.html" title=
          "Chapter&nbsp;4.&nbsp;Final Preparations">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version arm64-r12.0-319-systemd">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
