<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      4.5.&nbsp;About SBUs
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL-NS Stylesheets Vsnapshot" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="lfs" id="lfs-12.2">
    <div class="navheader">
      <h4>
        Linux From Scratch - Version 12.2
      </h4>
      <h3>
        Chapter&nbsp;4.&nbsp;Final Preparations
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="settingenvironment.html" title=
          "Setting Up the Environment">Prev</a>
          <p>
            Setting Up the Environment
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="abouttestsuites.html" title=
          "About the Test Suites">Next</a>
          <p>
            About the Test Suites
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter04.html" title=
          "Chapter&nbsp;4.&nbsp;Final Preparations">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 12.2">Home</a>
        </li>
      </ul>
    </div>
    <h1 class="sect1">
      <a id="ch-preps-aboutsbus" name="ch-preps-aboutsbus"></a>4.5. About
      SBUs
    </h1>
    <div class="sect1" lang="en" xml:lang="en">
      <p>
        Many people would like to know beforehand approximately how long it
        takes to compile and install each package. Because Linux From Scratch
        can be built on many different systems, it is impossible to provide
        absolute time estimates. The biggest package (gcc) will take
        approximately 5 minutes on the fastest systems, but could take days
        on slower systems! Instead of providing actual times, the Standard
        Build Unit (SBU) measure will be used instead.
      </p>
      <p>
        The SBU measure works as follows. The first package to be compiled is
        binutils in <a class="xref" href="../chapter05/chapter05.html" title=
        "Chapter&nbsp;5.&nbsp;Compiling a Cross-Toolchain">Chapter&nbsp;5</a>.
        The time it takes to compile using one core is what we will refer to
        as the Standard Build Unit or SBU. All other compile times will be
        expressed in terms of this unit of time.
      </p>
      <p>
        For example, consider a package whose compilation time is 4.5 SBUs.
        This means that if your system took 4 minutes to compile and install
        the first pass of binutils, it will take <span class=
        "emphasis"><em>approximately</em></span> 18 minutes to build the
        example package. Fortunately, most build times are shorter than one
        SBU.
      </p>
      <p>
        SBUs are not entirely accurate because they depend on many factors,
        including the host system's version of GCC. They are provided here to
        give an estimate of how long it might take to install a package, but
        the numbers can vary by as much as dozens of minutes in some cases.
      </p>
      <p>
        On some newer systems, the motherboard is capable of controlling the
        system clock speed. This can be controlled with a command such as
        <span class="command"><strong>powerprofilesctl</strong></span>. This
        is not available in LFS, but may be available on the host distro.
        After LFS is complete, it can be added to a system with the
        procedures at the <a class="ulink" href=
        "https://www.linuxfromscratch.org/blfs/view/12.2/sysutils/power-profiles-daemon.html">
        BLFS power-profiles-daemon</a> page. Before measuring the build time
        of any package it is advisable to use a system power profile set for
        maximum performance (and maximum power consumption). Otherwise the
        measured SBU value may be inaccurate because the system may react
        differently when building <a class="xref" href=
        "../chapter05/binutils-pass1.html" title=
        "5.2.&nbsp;Binutils-2.43.1 - Pass 1">binutils-pass1</a> or other
        packages. Be aware that a significant inaccuracy can still show up
        even if the same profile is used for both packages because the system
        may respond slower if the system is idle when starting the build
        procedure. Setting the power profile to <span class=
        "quote">“<span class="quote">performance</span>”</span> will minimize
        this problem. And obviously doing so will also make the system build
        LFS faster.
      </p>
      <p>
        If <span class="command"><strong>powerprofilesctl</strong></span> is
        available, issue the <span class="command"><strong>powerprofilesctl
        set performance</strong></span> command to select the <code class=
        "literal">performance</code> profile. Some distros provides the
        <span class="command"><strong>tuned-adm</strong></span> command for
        managing the profiles instead of <span class=
        "command"><strong>powerprofilesctl</strong></span>, on these distros
        issue the <span class="command"><strong>tuned-adm profile
        throughput-performance</strong></span> command to select the
        <code class="literal">throughput-performance</code> profile.
      </p>
      <div class="admon note">
        <img alt="[Note]" src="../images/note.png" />
        <h3>
          Note
        </h3>
        <p>
          When multiple processors are used in this way, the SBU units in the
          book will vary even more than they normally would. In some cases,
          the make step will simply fail. Analyzing the output of the build
          process will also be more difficult because the lines from
          different processes will be interleaved. If you run into a problem
          with a build step, revert to a single processor build to properly
          analyze the error messages.
        </p>
        <p>
          The times presented here for all packages (except <a class="xref"
          href="../chapter05/binutils-pass1.html" title=
          "5.2.&nbsp;Binutils-2.43.1 - Pass 1">binutils-pass1</a> which is
          based on one core) are based upon using four cores (-j4). The times
          in Chapter 8 also include the time to run the regression tests for
          the package unless specified otherwise.
        </p>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="settingenvironment.html" title=
          "Setting Up the Environment">Prev</a>
          <p>
            Setting Up the Environment
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="abouttestsuites.html" title=
          "About the Test Suites">Next</a>
          <p>
            About the Test Suites
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter04.html" title=
          "Chapter&nbsp;4.&nbsp;Final Preparations">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 12.2">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
